"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[847],{847:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(439),u=r(791),i=r(87),o=r(689),a=r(596),c=r(184);function s(e){var t=e.onSubmit,r=(0,u.useState)(""),i=(0,n.Z)(r,2),o=i[0],a=i[1];return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r=o.trim().toLowerCase();r&&(t(r),a(""))},children:[(0,c.jsx)("input",{type:"text",name:"query",value:o,onChange:function(e){a(e.currentTarget.value)},placeholder:"Search movies..."}),(0,c.jsx)("button",{type:"submit",children:"Search"})]})}var l=r(156);function h(){var e=(0,u.useState)(null),t=(0,n.Z)(e,2),r=t[0],h=t[1],f=(0,i.lr)(),m=(0,n.Z)(f,2),v=m[0],d=m[1],p=(0,o.TH)(),x=v.get("query");(0,u.useEffect)((function(){x&&(0,l.qF)(x).then((function(e){if(!e.total_results)throw new Error("Sorry, there are no movies matching your search query. Please try again.");h(e)})).catch((function(e){d({}),h(null),a.Am.error(e.message)}))}),[x,d]);return(0,c.jsxs)("div",{children:[(0,c.jsx)(s,{onSubmit:function(e){d(e?{query:e}:{})}}),r&&(0,c.jsx)("ul",{children:r.results.map((function(e){var t=e.id,r=e.title;return(0,c.jsx)("li",{children:(0,c.jsx)(i.rU,{to:"".concat(t),state:{from:p},children:r})},t)}))})]})}}}]);
//# sourceMappingURL=847.77854feb.chunk.js.map